<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Update Character Details</title>
    {% load static %}
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" href="{% static 'assets/logo.ico' %}">
    <link rel="stylesheet" type="text/css" href="{% static 'stylesheet/homepage.css' %}">
    <link rel="stylesheet" type="text/css" href="{% static 'stylesheet/create_character.css' %}">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Handjet:wght@100..900&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400..900&display=swap" rel="stylesheet">
    <style>
        .alert {
            padding: 10px 20px;
            margin: 20px 0;
            border-radius: 5px;
            font-size: 16px;
            font-weight: bold;
        }
        .alert.error {
            background-color: #f8d7da;
            color: #721c24;
            border: 1px solid #f5c6cb;
        }
        a {
            display: inline-block;
            padding: 10px 20px;
            background-color: #401D1D;
            color: white;
            text-decoration: none;
            font-size: 16px;
            font-weight: bold;
            border-radius: 5px;
            transition: background-color 0.3s ease;
        }
        a:hover {
            background-color: #5A2E2E;
        }
        a:focus {
            outline: 2px solid #fff;
            outline-offset: 2px;
        }

    </style>
</head>
<body>
    <form method="post">
        <a href="{% url 'character_review' character.id %}" >Go Back to Character Review</a>
        <h1>Update Character Details</h1>
        {% csrf_token %}
        {% if messages %}
            <div class="alert alert-danger">
                {% for message in messages %}
                    <p>{{ message }}</p>
                {% endfor %}
            </div>
        {% endif %}
        <label for="name">Name:</label>
        <input type="text" name="name" value="{{ character.name }}"><br>

        <label for="raceSelects">Choose a Race:</label>
        <select id="raceSelect" name="race" onchange="updateRaceInfo()">
            <option value="" disabled selected>Select Race</option>
            <option value="Dragonborn" {% if character.race == 'Dragonborn' %}selected{% endif %}>Dragonborn</option>
            <option value="Dwarf" {% if character.race == 'Dwarf' %}selected{% endif %}>Dwarf</option>
            <option value="Elf" {% if character.race == 'Elf' %}selected{% endif %}>Elf</option>
            <option value="Gnome" {% if character.race == 'Gnome' %}selected{% endif %}>Gnome</option>
            <option value="Half-Elf" {% if character.race == 'Half-Elf' %}selected{% endif %}>Half-Elf</option>
            <option value="Half-Orc" {% if character.race == 'Half-Orc' %}selected{% endif %}>Half-Orc</option>
            <option value="Halfling" {% if character.race == 'Halfling' %}selected{% endif %}>Halfling</option>
            <option value="Human" {% if character.race == 'Human' %}selected{% endif %}>Human</option>
            <option value="Tiefling" {% if character.race == 'Tiefling' %}selected{% endif %}>Tiefling</option>
        </select><br>

        <label for="character_class">Character Class:</label>
        <select id="classSelect" name="char_class">
            <option value="" disabled selected>Select Class</option>
            <option value="Artificer" {% if character.char_class == 'Artificer' %}selected{% endif %}>Artificer</option>
            <option value="Barbarian" {% if character.char_class == 'Barbarian' %}selected{% endif %}>Barbarian</option>
            <option value="Bard" {% if character.char_class == 'Bard' %}selected{% endif %}>Bard</option>
            <option value="Blood Hunter" {% if character.char_class == 'Blood Hunter' %}selected{% endif %}>Blood Hunter</option>
            <option value="Cleric" {% if character.char_class == 'Cleric' %}selected{% endif %}>Cleric</option>
            <option value="Druid" {% if character.char_class == 'Druid' %}selected{% endif %}>Druid</option>
            <option value="Fighter" {% if character.char_class == 'Fighter' %}selected{% endif %}>Fighter</option>
            <option value="Monk" {% if character.char_class == 'Monk' %}selected{% endif %}>Monk</option>
            <option value="Paladin" {% if character.char_class == 'Paladin' %}selected{% endif %}>Paladin</option>
            <option value="Ranger" {% if character.char_class == 'Ranger' %}selected{% endif %}>Ranger</option>
            <option value="Rogue" {% if character.char_class == 'Rogue' %}selected{% endif %}>Rogue</option>
            <option value="Sorcerer" {% if character.char_class == 'Sorcerer' %}selected{% endif %}>Sorcerer</option>
            <option value="Warlock" {% if character.char_class == 'Warlock' %}selected{% endif %}>Warlock</option>
            <option value="Wizard" {% if character.char_class == 'Wizard' %}selected{% endif %}>Wizard</option>
        </select> 

        <label for="background">Character Background:</label> 
        <select id="backgroundSelect" name="background">
            <option value="" disabled selected>Select Background</option>
            <option value="Acolyte" {% if character.background == 'Acolyte' %}selected{% endif %}>Acolyte</option>
            <option value="Anthropologist" {% if character.background == 'Anthropologist' %}selected{% endif %}>Anthropologist</option>
            <option value="Archaeologist" {% if character.background == 'Archaeologist' %}selected{% endif %}>Archaeologist</option>
            <option value="Athlete" {% if character.background == 'Athlete' %}selected{% endif %}>Athlete</option>
            <option value="Charlatan" {% if character.background == 'Charlatan' %}selected{% endif %}>Charlatan</option>
            <option value="City Watch" {% if character.background == 'City Watch' %}selected{% endif %}>City Watch</option>
            <option value="Clan Crafter" {% if character.background == 'Clan Crafter' %}selected{% endif %}>Clan Crafter</option>
            <option value="Cloistered Scholar" {% if character.background == 'Cloistered Scholar' %}selected{% endif %}>Cloistered Scholar</option>
            <option value="Courtier" {% if character.background == 'Courtier' %}selected{% endif %}>Courtier</option>
            <option value="Criminal" {% if character.background == 'Criminal' %}selected{% endif %}>Criminal</option>
            <option value="Entertainer" {% if character.background == 'Entertainer' %}selected{% endif %}>Entertainer</option>
            <option value="Faceless" {% if character.background == 'Faceless' %}selected{% endif %}>Faceless</option>
            <option value="Faction Agent" {% if character.background == 'Faction Agent' %}selected{% endif %}>Faction Agent</option>
            <option value="Far Traveler" {% if character.background == 'Far Traveler' %}selected{% endif %}>Far Traveler</option>
            <option value="Feylost" {% if character.background == 'Feylost' %}selected{% endif %}>Feylost</option>
            <option value="Fisher" {% if character.background == 'Fisher' %}selected{% endif %}>Fisher</option>
            <option value="Folk Hero" {% if character.background == 'Folk Hero' %}selected{% endif %}>Folk Hero</option>
            <option value="Giant Foundling" {% if character.background == 'Giant Foundling' %}selected{% endif %}>Giant Foundling</option>
            <option value="Gladiator" {% if character.background == 'Gladiator' %}selected{% endif %}>Gladiator</option>
            <option value="Guild Artisan" {% if character.background == 'Guild Artisan' %}selected{% endif %}>Guild Artisan</option>
            <option value="Guild Merchant" {% if character.background == 'Guild Merchant' %}selected{% endif %}>Guild Merchant</option>
            <option value="Haunted One" {% if character.background == 'Haunted One' %}selected{% endif %}>Haunted One</option>
            <option value="Hermit" {% if character.background == 'Hermit' %}selected{% endif %}>Hermit</option>
            <option value="House Agent" {% if character.background == 'House Agent' %}selected{% endif %}>House Agent</option>
            <option value="Inheritor" {% if character.background == 'Inheritor' %}selected{% endif %}>Inheritor</option>
            <option value="Investigator (SCAG)" {% if character.background == 'Investigator (SCAG)' %}selected{% endif %}>Investigator (SCAG)</option>
            <option value="Investigator (VRGR)" {% if character.background == 'Investigator (VRGR)' %}selected{% endif %}>Investigator (VRGR)</option>
            <option value="Knight" {% if character.background == 'Knight' %}selected{% endif %}>Knight</option>
            <option value="Knight of the Order" {% if character.background == 'Knight of the Order' %}selected{% endif %}>Knight of the Order</option>
            <option value="Marine" {% if character.background == 'Marine' %}selected{% endif %}>Marine</option>
            <option value="Mercenary Veteran" {% if character.background == 'Mercenary Veteran' %}selected{% endif %}>Mercenary Veteran</option>
            <option value="Noble" {% if character.background == 'Noble' %}selected{% endif %}>Noble</option>
            <option value="Outlander" {% if character.background == 'Outlander' %}selected{% endif %}>Outlander</option>
            <option value="Pirate" {% if character.background == 'Pirate' %}selected{% endif %}>Pirate</option>
            <option value="Rewarded" {% if character.background == 'Rewarded' %}selected{% endif %}>Rewarded</option>
            <option value="Ruined" {% if character.background == 'Ruined' %}selected{% endif %}>Ruined</option>
            <option value="Rune Carver" {% if character.background == 'Rune Carver' %}selected{% endif %}>Rune Carver</option>
            <option value="Sage" {% if character.background == 'Sage' %}selected{% endif %}>Sage</option>
            <option value="Sailor" {% if character.background == 'Sailor' %}selected{% endif %}>Sailor</option>
            <option value="Shipwright" {% if character.background == 'Shipwright' %}selected{% endif %}>Shipwright</option>
            <option value="Smuggler" {% if character.background == 'Smuggler' %}selected{% endif %}>Smuggler</option>
            <option value="Soldier" {% if character.background == 'Soldier' %}selected{% endif %}>Soldier</option>
            <option value="Spy" {% if character.background == 'Spy' %}selected{% endif %}>Spy</option>
        </select>
        
        <label for="strength">Strength</label>
        <select class="stat-select" name="strength" id="strength" required>
            <option value="15" {% if original_strength == 15 %}selected{% endif %}>15</option>
            <option value="14" {% if original_strength == 14 %}selected{% endif %}>14</option>
            <option value="13" {% if original_strength == 13 %}selected{% endif %}>13</option>
            <option value="12" {% if original_strength == 12 %}selected{% endif %}>12</option>
            <option value="10" {% if original_strength == 10 %}selected{% endif %}>10</option>
            <option value="8"  {% if original_strength == 8 %}selected{% endif %}>8</option>
        </select>
        
        <label for="dexterity">Dexterity</label>
        <select class="stat-select" name="dexterity" id="dexterity" required>
            <option value="15" {% if original_dexterity == 15 %}selected{% endif %}>15</option>
            <option value="14" {% if original_dexterity == 14 %}selected{% endif %}>14</option>
            <option value="13" {% if original_dexterity == 13 %}selected{% endif %}>13</option>
            <option value="12" {% if original_dexterity == 12 %}selected{% endif %}>12</option>
            <option value="10" {% if original_dexterity == 10 %}selected{% endif %}>10</option>
            <option value="8"  {% if original_dexterity == 8 %}selected{% endif %}>8</option>
        </select>
        
        <label for="constitution">Constitution</label>
        <select class="stat-select" name="constitution" id="constitution" required>
            <option value="15" {% if original_constitution == 15 %}selected{% endif %}>15</option>
            <option value="14" {% if original_constitution == 14 %}selected{% endif %}>14</option>
            <option value="13" {% if original_constitution == 13 %}selected{% endif %}>13</option>
            <option value="12" {% if original_constitution == 12 %}selected{% endif %}>12</option>
            <option value="10" {% if original_constitution == 10 %}selected{% endif %}>10</option>
            <option value="8"  {% if original_constitution == 8 %}selected{% endif %}>8</option>
        </select>
        
        <label for="intelligence">Intelligence</label>
        <select class="stat-select" name="intelligence" id="intelligence" required>
            <option value="15" {% if original_intelligence == 15 %}selected{% endif %}>15</option>
            <option value="14" {% if original_intelligence == 14 %}selected{% endif %}>14</option>
            <option value="13" {% if original_intelligence == 13 %}selected{% endif %}>13</option>
            <option value="12" {% if original_intelligence == 12 %}selected{% endif %}>12</option>
            <option value="10" {% if original_intelligence == 10 %}selected{% endif %}>10</option>
            <option value="8"  {% if original_intelligence == 8 %}selected{% endif %}>8</option>
        </select>
        
        <label for="wisdom">Wisdom</label>
        <select class="stat-select" name="wisdom" id="wisdom" required>
            <option value="15" {% if original_wisdom == 15 %}selected{% endif %}>15</option>
            <option value="14" {% if original_wisdom == 14 %}selected{% endif %}>14</option>
            <option value="13" {% if original_wisdom == 13 %}selected{% endif %}>13</option>
            <option value="12" {% if original_wisdom == 12 %}selected{% endif %}>12</option>
            <option value="10" {% if original_wisdom == 10 %}selected{% endif %}>10</option>
            <option value="8"  {% if original_wisdom == 8 %}selected{% endif %}>8</option>
        </select>
        
        <label for="charisma">Charisma</label>
        <select class="stat-select" name="charisma" id="charisma" required>
            <option value="15" {% if original_charisma == 15 %}selected{% endif %}>15</option>
            <option value="14" {% if original_charisma == 14 %}selected{% endif %}>14</option>
            <option value="13" {% if original_charisma == 13 %}selected{% endif %}>13</option>
            <option value="12" {% if original_charisma == 12 %}selected{% endif %}>12</option>
            <option value="10" {% if original_charisma == 10 %}selected{% endif %}>10</option>
            <option value="8"  {% if original_charisma == 8 %}selected{% endif %}>8</option>
        </select>

        <button type="submit">Update Character Details</button>
    </form>
    <!-- Information Popup for Race Selection -->
    <div class="info-popup" id="infoPopup">
        <h3>Race Info</h3>
        <p id="raceInfoText">Select a race to see more details here.</p>
    </div>

    <footer class="footer">
        <p>Terms of Service</p>
        <p>Â©Copyright</p>
        <p>Privacy</p>
    </footer>
    <script>
            function updateRaceInfo() {
            var selectedRace = document.getElementById('raceSelect').value;
            var popup = document.getElementById('infoPopup');
            var infoText = document.getElementById('raceInfoText');
            var raceInfo = {
                "Dragonborn": `
                    <strong>Dragonborn Traits:</strong><br>
                    <strong>Ability Score Increase:</strong> Your Strength score increases by 2, and your Charisma score increases by 1.<br>
                    <strong>Age:</strong> Dragonborn reach adulthood in their late teens and can live to be around 80 years old.<br>
                    <strong>Alignment:</strong> Dragonborn tend to be ambitious and proud, often following a code of honor. Their alignments vary widely, but many are lawful.<br>
                    <strong>Size:</strong> Dragonborn are taller and heavier than humans, standing between 6 and 7 feet tall. They are Medium creatures.<br>
                    <strong>Speed:</strong> Your base walking speed is 30 feet.<br>
                    <strong>Draconic Ancestry:</strong> You have a dragon ancestor, granting you a damage type and a breath weapon based on that ancestry.<br>
                    <strong>Breath Weapon:</strong> As an action, you can exhale destructive energy in a 15-foot cone or a 5-foot line (30 feet long). The type of damage depends on your draconic ancestry. You must succeed on a saving throw against your Constitution.<br>
                    <strong>Damage Resistance:</strong> You have resistance to the damage type associated with your draconic ancestry.<br>
                    <strong>Languages:</strong> You can speak, read, and write Common and Draconic.<br>
                `,
                "Dwarf": `
                    <strong>Dwarf Traits:</strong><br>
                    <strong>Ability Score Increase:</strong> Your Constitution score increases by 2.<br>
                    <strong>Age:</strong> Dwarves mature at the same rate as humans but live much longer, often over 350 years.<br>
                    <strong>Alignment:</strong> Dwarves tend to be lawful and good, with a strong sense of duty and tradition.<br>
                    <strong>Size:</strong> Dwarves stand between 4 and 5 feet tall and are stocky, making them Medium creatures.<br>
                    <strong>Speed:</strong> Your base walking speed is 25 feet.<br>
                    <strong>Darkvision:</strong> You can see in the dark up to 60 feet.<br>
                    <strong>Dwarven Resilience:</strong> You have advantage on saving throws against poison and resistance to poison damage.<br>
                    <strong>Languages:</strong> You can speak, read, and write Common and Dwarvish.<br>
                `,
                "Elf": `
                    <strong>Elf Traits:</strong><br>
                    <strong>Ability Score Increase:</strong> Your Dexterity score increases by 2.<br>
                    <strong>Age:</strong> Elves reach adulthood at around 100 years old and can live up to 750 years.<br>
                    <strong>Alignment:</strong> Elves tend to be good and chaotic, with a love for nature and freedom.<br>
                    <strong>Size:</strong> Elves are around 5 to 6 feet tall, making them Medium creatures.<br>
                    <strong>Speed:</strong> Your base walking speed is 30 feet.<br>
                    <strong>Darkvision:</strong> You can see in the dark up to 60 feet.<br>
                    <strong>Keen Senses:</strong> You have proficiency in the Perception skill.<br>
                    <strong>Languages:</strong> You can speak, read, and write Common and Elvish.<br>
                `,
                "Human": `
                    <strong>Human Traits:</strong><br>
                    <strong>Ability Score Increase:</strong> Your ability scores each increase by 1.<br>
                    <strong>Age:</strong> Humans reach adulthood in their late teens and live less than a century.<br>
                    <strong>Alignment:</strong> Humans tend to be more flexible in their moral and ethical
                    alignments. They can be any alignment.<br>
                    <strong>Size:</strong> Humans are about the same size as elves and dwarves, ranging from 5 to
                    over 6 feet tall. They are Medium creatures.<br>
                    <strong>Speed:</strong> Your base walking speed is 30 feet.<br>
                    <strong>Languages:</strong> You can speak, read, and write Common and one extra language of
                    your choice.<br>
                `,
                "Halfling": `
                    <strong>Halfling Traits:</strong><br>
                    <strong>Ability Score Increase:</strong> Your Dexterity score increases by 2, and your Charisma
                    score increases by 1.<br>
                    <strong>Age:</strong> Halflings reach adulthood at around 20 years and live to be about 150 years
                    old.<br>
                    <strong>Alignment:</strong> Most halflings are good-hearted and tend toward lawful alignments.<br>
                    <strong>Size:</strong> Halflings are about 3 to 4 feet tall and are Small creatures.<br>
                    <strong>Speed:</strong> Your base walking speed is 25 feet.<br>
                    <strong>Lucky:</strong> When you roll a 1 on an attack roll, ability check, or saving throw, you can
                    reroll the die and must use the new roll.<br>
                    <strong>Brave:</strong> You have advantage on saving throws against being frightened.<br>
                    <strong>Halfling Nimbleness:</strong> You can move through the space of any creature that is of a
                    size larger than yours.<br>
                    <strong>Languages:</strong> You can speak, read, and write Common and Halfling.<br>
                `,
                "Gnome": `
                    <strong>Gnome Traits:</strong><br>
                    <strong>Ability Score Increase:</strong> Your Intelligence score increases by 2, and your Dexterity
                    score increases by 1.<br>
                    <strong>Age:</strong> Gnomes reach adulthood around 40 years old and can live to be over 350
                    years old.<br>
                    <strong>Alignment:</strong> Gnomes tend to be good-hearted and prefer to follow a chaotic
                    alignment, valuing personal freedom and creativity.<br>
                    <strong>Size:</strong> Gnomes are between 3 to 4 feet tall. They are Small creatures.<br>
                    <strong>Speed:</strong> Your base walking speed is 25 feet.<br>
                    <strong>Darkvision:</strong> You can see in dim light as if it were bright light, and in darkness as if
                    it were dim light. You can't discern color in darkness, only shades of gray.<br>
                    <strong>Gnome Cunning:</strong> You have advantage on all Intelligence, Wisdom, and Charisma
                    saving throws against magic.<br>
                    <strong>Languages:</strong> You can speak, read, and write Common and Gnomish.<br>
                `,
                "Half-Elf": `
                <strong>Half-Elf Traits:</strong><br>
                <strong>Ability Score Increase:</strong> Your Charisma score increases by 2, Intelligence and Wisdom increases by 1<br>
                <strong>Age:</strong> Half-elves reach adulthood at about the same age as humans, but they can
                live to be over 180 years old.<br>
                <strong>Alignment:</strong> Half-elves tend to be more adaptable than their elven ancestors, often
                leaning toward chaotic alignments.<br>
                <strong>Size:</strong> Half-elves are about the same size as humans, ranging from 5 to over 6 feet
                tall. They are Medium creatures.<br>
                <strong>Speed:</strong> Your base walking speed is 30 feet.<br>
                <strong>Darkvision:</strong> You can see in dim light as if
                it were bright light, and in darkness as if it were dim light. You can't discern color
                in darkness, only shades of gray.<br>
                <strong>Fey Ancestry:</strong> You have advantage on saving throws against being charmed, and
                magic can't put you to sleep.<br>
                <strong>Skill Versatility:</strong> You gain proficiency in two skills of your choice.<br>
                <strong>Languages:</strong> You can speak, read, and write Common, Elvish, and one extra
                language of your choice.<br>
                `,
                "Half-Orc": `
                <strong>Half-Orc Traits:</strong><br>
                <strong>Ability Score Increase:</strong> Your Strength score increases by 2, and your Constitution
                score increases by 1.<br>
                <strong>Age:</strong> Half-orcs reach adulthood in their late teens and typically live less than a
                century.<br>
                <strong>Alignment:</strong> Half-orcs are often chaotic, valuing freedom and individualism.<br>
                <strong>Size:</strong> Half-orcs are about the same size as humans, ranging from 5 to over 6 feet
                tall. They are Medium creatures.<br>
                <strong>Speed:</strong> Your base walking speed is 30 feet.<br>
                <strong>Darkvision:</strong> You can see in dim light as if it were bright light, and in darkness as
                if it were dim light. You can't discern color in darkness, only shades of gray.<br>
                <strong>Menacing:</strong> You gain proficiency in the Intimidation skill.<br>
                <strong>Relentless Endurance:</strong> When you are reduced to 0 hit points but not killed
                outright, you can drop to 1 hit point instead. You can't use this feature again until
                you finish a long rest.<br>
                <strong>Savage Attacks:</strong> When you score a critical hit with a melee weapon attack, you can
                roll one additional damage die.<br>
                <strong>Languages:</strong> You can speak, read, and write Common and Orc.<br>
                `,
                "Tiefling": `
                    <strong>Tiefling Traits:</strong><br>
                    <strong>Ability Score Increase:</strong> Your Charisma score increases by 2, and your Intelligence
                    score increases by 1.<br>
                    <strong>Age:</strong> Tieflings reach adulthood in their late teens and can live to be around 100
                    years old.<br>
                    <strong>Alignment:</strong> Tieflings tend to be chaotic and often have a rebellious streak, valuing
                    their freedom.<br>
                    <strong>Size:</strong> Tieflings are about the same size as humans, ranging from 5 to over 6 feet
                    tall. They are Medium creatures.<br>
                    <strong>Speed:</strong> Your base walking speed is 30 feet.<br>
                    <strong>Darkvision:</strong> You can see in dim light as if it were bright light, and in darkness as if
                    it were dim light. You can't discern color in darkness, only shades of gray.<br>
                    <strong>Hellish Resistance:</strong> You have resistance to fire damage.<br>
                    <strong>Infernal Legacy:</strong> You know the thaumaturgy cantrip. When you reach 3rd level, you
                    can cast the hellish rebuke spell once with this trait and regain the ability to do so
                    when you finish a long rest. When you reach 5th level, you can cast the darkness
                    spell once with this trait and regain the ability to do so when you finish a long
                    rest.<br>
                    <strong>Languages:</strong> You can speak, read, and write Common and Infernal.<br>
                `,
            };
            // Display the information if a race is selected
            if (selectedRace && raceInfo[selectedRace]) {
                infoText.innerHTML = raceInfo[selectedRace];
                popup.style.display = 'block';
            } else {
                popup.style.display = 'none'; // Hide if no race is selected
            }
        }
        // Initialize the dropdowns when the page is loaded
        window.onload = function () {
            updateSelectOptions();
        };
    </script>
</body>
</html>
